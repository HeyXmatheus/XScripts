-- Carregar biblioteca
local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()

-- Aviso ao executar
Fluent:Notify({ Title = "executado!", Content = "executando com sucesso" })

local Window = Fluent:CreateWindow({
    Title = "XScript universal" .. Fluent.Version,
    TabWidth = 160, 
    Size = UDim2.fromOffset(580, 460), 
    Theme = "Amethyst"
})

local Tabs = {
    Main = Window:AddTab({ Title = "inicio" }),
    Settings = Window:AddTab({ Title = "Settings", Icon = "settings" }),
    AutoKills = Window:AddTab({ Title = "Auto Kills" })
}

-- Parágrafos 
Tabs.Main:AddParagraph({ Title = "XScript", Content = "versao beta" })

-- Botões 
Tabs.Main:AddButton({ Title = "pulo infinito", Callback = function() 
    local success, err = pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/HeyGyt/infjump/main/main"))()
    end)
    if not success then
        print("Erro ao carregar pulo infinito: " .. err)
    end
end })

Tabs.Main:AddButton({ Title = "Fly gui", Callback = function() 
    local success, err = pcall(function()
        loadstring(game:HttpGet('https://raw.githubusercontent.com/HeyXmatheus/XScripts/refs/heads/main/fly'))()
    end)
    if not success then
        print("Erro ao carregar Fly gui: " .. err)
    end
end })

Tabs.Main:AddButton({ Title = "Fling gui", Callback = function() 
    local success, err = pcall(function()
        loadstring(game:HttpGet('https://raw.githubusercontent.com/HeyXmatheus/XScripts/refs/heads/main/fling'))()
    end)
    if not success then
        print("Erro ao carregar Fling gui: " .. err)
    end
end })

Tabs.Main:AddButton({ Title = "Remover Lag e Texturas", Callback = function() 
    local success, err = pcall(function()
        local player = game.Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()

        -- Desativar texturas
        for _, part in pairs(workspace:GetDescendants()) do
            if part:IsA("BasePart") then
                part.Material = Enum.Material.SmoothPlastic
                if part:FindFirstChildOfClass("Decal") then
                    part:FindFirstChildOfClass("Decal"):Destroy()
                end
                if part:FindFirstChildOfClass("Texture") then
                    part:FindFirstChildOfClass("Texture"):Destroy()
                end
            end
        end

        -- Desativar efeitos de partículas
        for _, effect in pairs(workspace:GetDescendants()) do
            if effect:IsA("ParticleEmitter") or effect:IsA("Trail") then
                effect.Enabled = false
            end
        end

        -- Desativar iluminação desnecessária
        game.Lighting.GlobalShadows = false
        game.Lighting.FogEnd = 9e9
        game.Lighting.Brightness = 0

        print("Lag e texturas removidos")
    end)
    if not success then
        print("Erro ao remover lag e texturas: " .. err)
    end
end })

-- God Mode 100% funcional
local godModeActive = false
Tabs.Main:AddToggle("GodModeToggle", 
{
    Title = "Ativar/Desativar God Mode", 
    Description = "Ativa ou desativa o God Mode",
    Default = false, 
    Callback = function(state)
        godModeActive = state
        local player = game.Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()

        if godModeActive then
            for _, part in pairs(character:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
            character.Humanoid:GetPropertyChangedSignal("Health"):Connect(function()
                if character.Humanoid.Health < character.Humanoid.MaxHealth then
                    character.Humanoid.Health = character.Humanoid.MaxHealth
                end
            end)
            print("God Mode ativado")
        else
            for _, part in pairs(character:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = true
                end
            end
            print("God Mode desativado")
        end
    end
})

-- Função para seguir o personagem alvo até que ele morra
local function followAndKillTarget(target)
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    while target and target.Parent and target.Character and target.Character:FindFirstChild("Humanoid") and target.Character.Humanoid.Health > 0 do
        humanoidRootPart.CFrame = target.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, -2) -- Fica atrás do alvo
        game:GetService("VirtualUser"):Button1Down(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
        wait(0.1) -- Ajuste o tempo de espera conforme necessário
        game:GetService("VirtualUser"):Button1Up(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
    end
end

-- Auto Kill Sword com auto click rápido
Tabs.Main:AddButton({ Title = "Auto Kill Sword", Callback = function() 
    local success, err = pcall(function()
        local target = game.Players:FindFirstChild("NomeDoAlvo") -- Substitua "NomeDoAlvo" pelo nome do alvo
        if target then
            followAndKillTarget(target)
        else
            print("Alvo não encontrado")
        end
    end)
    if not success then
        print("Erro ao executar Auto Kill Sword: " .. err)
    end
end })

-- Auto Kill All Gun com aimbot e auto click
Tabs.AutoKills:AddButton({ Title = "Auto Kill All Gun", Callback = function() 
    local success, err = pcall(function()
        for _, player in pairs(game.Players:GetPlayers()) do
            if player ~= game.Players.LocalPlayer then
                followAndKillTarget(player)
            end
        end
    end)
    if not success then
        print("Erro ao executar Auto Kill All Gun: " .. err)
    end
end })

-- Auto Kill All Laser com aimbot e auto click
Tabs.AutoKills:AddButton({ Title = "Auto Kill All Laser", Callback = function() 
    local success, err = pcall(function()
        for _, player in pairs(game.Players:GetPlayers()) do
            if player ~= game.Players.LocalPlayer then
                followAndKillTarget(player)
            end
        end
    end)
    if not success then
        print("Erro ao executar Auto Kill All Laser: " .. err)
    end
end })
