-- Carregar biblioteca
local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()

-- Aviso ao executar
Fluent:Notify({ Title = "Executado!", Content = "Executando com sucesso" })

local Window = Fluent:CreateWindow({
    Title = "XScript escape da professora | Versão 1.0.0", -- Título atualizado
    TabWidth = 160,
    Size = UDim2.fromOffset(390, 300),
    Theme = "Amethyst"
})

local Tabs = {
    autoFarm = Window:AddTab({ Title = "Auto Farm", Icon = "map" }), -- Aba renomeada para "Auto Farm"
    tools = Window:AddTab({ Title = "Tools", Icon = "hammer" }) -- Nova aba "Tools"
}

-- Variáveis de controle
local teleporting = false -- Estado do alternador
local currentSpawnIndex = 1 -- Índice do spawn atual

-- Função para teleportar o jogador entre os spawns
local function teleportToNextSpawn()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()

    -- Teleportar para o spawn atual
    local spawn = workspace.StartModel.PlayerSpawns["m" .. tostring(currentSpawnIndex)].go
    if spawn then
        character:MoveTo(spawn.Position)
        currentSpawnIndex = currentSpawnIndex + 1 -- Avança para o próximo spawn
        
        -- Para a teleportação se atingir o spawn m20
        if currentSpawnIndex > 20 then
            teleporting = false -- Para o teleport
            print("Teleportação concluída ao atingir o spawn m20.")
        end
    end
end

-- Alternador para ativar/desativar o teleport
local Toggle = Tabs.autoFarm:AddToggle("AutoFarmToggle", 
{
    Title = "Auto Farm Spawns", 
    Description = "Auto Farms player spawns.",
    Default = false, -- Esse "," é necessário em qualquer situação 
    Callback = function(state)
        teleporting = state
        if teleporting then
            print("Toggle On") -- Mensagem de ativação
            while teleporting do
                teleportToNextSpawn() -- Teleportar para o próximo spawn
                wait(1) -- Espera 1 segundo antes de teleportar novamente
            end
        else
            print("Toggle Off") -- Mensagem de desativação
        end
    end 
})

-- Função para teleportar o item Speed Coil para o jogador
local function teleportSpeedCoil()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local speedCoil = workspace.SpeedGiver.Part

    if speedCoil then
        speedCoil.Position = character.Position + Vector3.new(0, 5, 0) -- Teleporta o item acima do jogador
        print("Speed Coil teleportado!")
    else
        print("Speed Coil não encontrado!")
    end
end

-- Botão para teleportar o Speed Coil
Tabs.tools:AddButton({
    Title = "Speed Coil",
    Callback = function()
        teleportSpeedCoil() -- Chama a função de teleport
    end
})

-- Mostrar a janela da interface
Window:ShowWindow()