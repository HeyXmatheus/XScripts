-- Carregar biblioteca
local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()

-- Aviso ao executar
Fluent:Notify({ Title = "Executado!", Content = "Executando com sucesso" })

local Window = Fluent:CreateWindow({
    Title = "XScript Obby da Escola Fuga!游눠 | 游游 Vers칚o 1.0.0", -- T칤tulo atualizado
    TabWidth = 160,
    Size = UDim2.fromOffset(390, 300),
    Theme = "Amethyst"
})

local Tabs = {
    autoFarm = Window:AddTab({ Title = "Auto Farm", Icon = "map" }) -- Aba renomeada para "Auto Farm"
}

-- Vari치veis de controle
local teleporting = false -- Estado do alternador
local currentCheckpointIndex = 1 -- 칈ndice do checkpoint atual

-- Fun칞칚o para teleportar o jogador entre os checkpoints
local function teleportToNextCheckpoint()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()

    -- Obter o checkpoint atual
    local checkpoint = workspace.Checkpoints[tostring(currentCheckpointIndex)] -- Acessar checkpoint pelo 칤ndice
    if checkpoint then
        character:MoveTo(checkpoint.Position) -- Move o personagem para a posi칞칚o do checkpoint
        currentCheckpointIndex = currentCheckpointIndex + 1 -- Avan칞a para o pr칩ximo checkpoint
        
        -- Para a teleporta칞칚o se atingir o 칰ltimo checkpoint (51)
        if currentCheckpointIndex > 51 then
            teleporting = false -- Para o teleport
            print("Teleporta칞칚o conclu칤da ao atingir o 칰ltimo checkpoint.")
            autoRebirth() -- Chama a fun칞칚o para renascer automaticamente
        end
    end
end

-- Fun칞칚o para clicar automaticamente na GUI de renascimento
local function autoRebirth()
    wait(1) -- Aguarda um segundo para garantir que a GUI esteja vis칤vel
    local player = game.Players.LocalPlayer
    
    -- Espera pela GUI de renascimento
    local rebirthGui = player.PlayerGui:WaitForChild("RebirthGui") -- Altere "RebirthGui" para o nome correto da GUI, se necess치rio
    
    -- Verifica se a GUI est치 vis칤vel
    if rebirthGui and rebirthGui.Visible then
        local restartButton = rebirthGui:FindFirstChild("RestartButton") -- Altere "RestartButton" para o nome correto do bot칚o, se necess치rio
        if restartButton then
            restartButton.MouseButton1Click:Fire() -- Simula um clique no bot칚o de rein칤cio
            print("Reiniciando o jogo...")
            currentCheckpointIndex = 1 -- Reseta o 칤ndice para reiniciar os checkpoints
            teleporting = true -- Reativa a teleporta칞칚o
        else
            print("Bot칚o de rein칤cio n칚o encontrado.")
        end
    end
end

-- Alternador para ativar/desativar o teleport
local Toggle = Tabs.autoFarm:AddToggle("AutoFarmToggle", 
{
    Title = "Auto Zerar", 
    Description = "Auto Final.",
    Default = false,
    Callback = function(state)
        teleporting = state
        if teleporting then
            print("Toggle On") -- Mensagem de ativa칞칚o
            while teleporting do
                teleportToNextCheckpoint() -- Teleportar para o pr칩ximo checkpoint
                wait(0.2) -- Espera 0.2 segundos entre teletransportes
            end
        else
            print("Toggle Off") -- Mensagem de desativa칞칚o
        end
    end 
})

-- Mostrar a janela da interface
Window:ShowWindow()