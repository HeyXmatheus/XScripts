-- Carregar biblioteca Fluent
local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()

-- Aviso ao executar
Fluent:Notify({ Title = "Executado!", Content = "Executando com sucesso" })

-- Criar janela principal
local Window = Fluent:CreateWindow({
    Title = "XScript Obby mas voc√™ √© uma bike üö≤| üáßüá∑ Vers√£o 1.0.0", 
    TabWidth = 160,
    Size = UDim2.fromOffset(390, 300),
    Theme = "Amethyst"
})

-- Criar aba Auto Farm
local Tabs = {
    autoFarm = Window:AddTab({ Title = "Auto Farm", Icon = "map" })
}

-- Vari√°veis de controle
local teleporting = false -- Estado do alternador
local farming = false -- Estado do Auto Farm
local currentCheckpointIndex = 2 -- Iniciar do checkpoint 2

-- Fun√ß√£o para teleportar o jogador entre os checkpoints de 2 a 99
local function teleportToNextCheckpoint()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()

    -- Obter o checkpoint atual
    local checkpoint = workspace.WorldMap.Checkpoints[tostring(currentCheckpointIndex)] and workspace.WorldMap.Checkpoints[tostring(currentCheckpointIndex)].Pole
    if checkpoint then
        character:MoveTo(checkpoint.Position) -- Move o personagem para o checkpoint
        currentCheckpointIndex = currentCheckpointIndex + 1 -- Avan√ßa para o pr√≥ximo checkpoint

        -- Para a teleporta√ß√£o se atingir o √∫ltimo checkpoint (99)
        if currentCheckpointIndex > 99 then
            teleporting = false -- Para o teleport
            print("Teleporta√ß√£o conclu√≠da ao atingir o √∫ltimo checkpoint.")
            currentCheckpointIndex = 2 -- Reseta o √≠ndice para reiniciar os checkpoints
        end
    else
        teleporting = false -- Para o teleport se o checkpoint n√£o existir
        print("Checkpoint n√£o encontrado: " .. tostring(currentCheckpointIndex))
    end
end

-- Alternador para ativar/desativar o Auto Zerar
local Toggle = Tabs.autoFarm:AddToggle("AutoFarmToggle", 
{
    Title = "Auto Zerar", 
    Description = "Zera o Obby (no risk!).",
    Default = false,
    Callback = function(state)
        teleporting = state
        currentCheckpointIndex = 2 -- Reseta o √≠ndice ao ativar o alternador
        if teleporting then
            print("Toggle On - Iniciando Auto Zerar") -- Mensagem de ativa√ß√£o
            while teleporting do
                teleportToNextCheckpoint() -- Teleportar para o pr√≥ximo checkpoint
                wait(0.7) -- Espera 0.7 segundos entre teletransportes
            end
        else
            print("Toggle Off - Auto Zerar desativado") -- Mensagem de desativa√ß√£o
        end
    end 
})

-- Fun√ß√£o para teleportar entre checkpoints de 2 a 99 e para o RestartPortal, fazendo loop
local function teleportForAutoFarm()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()

    -- Teleportar para os checkpoints de 2 a 99
    for i = 2, 99 do
        local checkpoint = workspace.WorldMap.Checkpoints[tostring(i)] and workspace.WorldMap.Checkpoints[tostring(i)].Pole
        if checkpoint then
            character:MoveTo(checkpoint.Position)
            wait(0.7) -- Espera 0.7 segundos entre checkpoints
        end
    end

    -- Teleportar para o RestartPortal ap√≥s o checkpoint 99
    local restartPortal = workspace.WorldMap.RestartPortal.Teleport
    if restartPortal then
        character:MoveTo(restartPortal.Position)
        wait(0.7) -- Espera 0.7 segundos
    end
end

-- Alternador para ativar/desativar o Auto Farm
local AutoFarmToggle = Tabs.autoFarm:AddToggle("AutoFarmToggle2", 
{
    Title = "Auto Farm", 
    Description = "Faz loop de teleporta√ß√£o entre checkpoints e portal.",
    Default = false,
    Callback = function(state)
        farming = state
        if farming then
            print("Auto Farm Iniciado") -- Mensagem de ativa√ß√£o
            while farming do
                teleportForAutoFarm() -- Executa o loop de teleporta√ß√£o
            end
        else
            print("Auto Farm Desativado") -- Mensagem de desativa√ß√£o
        end
    end 
})

-- Mostrar a janela da interface
Window:ShowWindow()